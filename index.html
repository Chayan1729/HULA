<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Memory Lane ‚Äî Our Love</title>
  <style>
    /* -------------------------
       Basic & Theme
       ------------------------- */
    :root{
      --bg1:#ffafbd;
      --bg2:#ffc3a0;
      --accent:#ff4d6d;
      --muted:#6b7280;
      --card:#fff;
      --glass: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-y:scroll;
    }

    /* -------------------------
       Floating hearts background
       ------------------------- */
    .hearts-wrap{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart {
      position: absolute;
      width: 18px;
      height: 18px;
      transform: rotate(-45deg);
      background: linear-gradient(135deg, rgba(255,77,109,0.95), rgba(255,160,160,0.9));
      left: 50%;
      top: 100%;
      opacity: 0.95;
      border-radius: 4px 4px 0 0;
      box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background: inherit;
      border-radius: 50%;
      top: -9px;
      left: 0;
    }
    .heart::after {
      left: 9px;
      top: 0;
    }
    @keyframes floatUp {
      0%   { transform: translateY(0) scale(0.8) rotate(-45deg); opacity:0; }
      10%  { opacity:0.9; }
      100% { transform: translateY(-130vh) scale(1.1) rotate(-45deg); opacity:0; }
    }

    /* -------------------------
       Page layout
       ------------------------- */
    .container{
      position:relative;
      z-index:1;
      max-width:1100px;
      margin: 32px auto;
      padding: 20px;
    }

    header.hero{
      background: linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border-radius: 18px;
      padding: 28px;
      display:flex;
      gap:20px;
      align-items:center;
      box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      backdrop-filter: blur(6px);
    }
    .hero-left{flex:1; min-width:0}
    .hero-title{font-size: clamp(20px, 4.2vw, 36px); margin:0; line-height:1.05; color:#fff; font-weight:700; text-shadow:0 4px 18px rgba(0,0,0,0.25)}
    .hero-sub{margin-top:6px; color: #ffeef1; opacity:0.95}
    .hero-meta{display:flex; gap:8px; margin-top:14px; flex-wrap:wrap}
    .pill{background:var(--glass); color:#3b3b3b; padding:8px 12px; border-radius:999px; font-size:13px; box-shadow: 0 4px 12px rgba(0,0,0,0.06)}

    .hero-right{width:140px; height:140px; border-radius:18px; background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02)); display:flex; align-items:center; justify-content:center; box-shadow: inset 0 -20px 40px rgba(255,255,255,0.06)}
    .hero-right .big-heart{font-size:48px; color: #fff; text-shadow: 0 6px 22px rgba(255,77,109,0.24)}

    /* -------------------------
       Gallery grid
       ------------------------- */
    .gallery{
      margin-top:22px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap:16px;
    }
    .card{
      background:var(--card);
      border-radius:14px;
      overflow:hidden;
      box-shadow: 0 8px 28px rgba(39, 39, 42, 0.06);
      transition: transform .32s cubic-bezier(.2,.9,.2,1), box-shadow .32s;
      cursor: pointer;
      display:flex;
      flex-direction:column;
      min-height:120px;
    }
    .card:hover{ transform: translateY(-6px); box-shadow: 0 18px 40px rgba(39,39,42,0.12); }

    .card .thumb{
      width:100%;
      aspect-ratio: 4/3;
      object-fit:cover;
      display:block;
      transition: transform .6s ease;
    }
    .card:hover .thumb{ transform: scale(1.06) rotate(.3deg); }

    /* thumbnail video small tweaks */
    .card .thumb[playsinline] { display:block; width:100%; height:auto; object-fit:cover; }

    .caption-row{ padding:12px 14px; display:flex; gap:10px; align-items:center; justify-content:space-between }
    .cap-left{min-width:0}
    .cap-title{ font-weight:600; font-size:15px; color:#111; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
    .cap-sub{ font-size:13px; color:var(--muted); margin-top:4px }

    /* -------------------------
       Lightbox / modal
       ------------------------- */
    .lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      background: rgba(6,6,8,0.6);
      padding: 24px;
    }
    .lightbox.show { display:flex; }

    .lb-inner {
      position:relative;
      max-width: 1100px;
      width:100%;
      border-radius:12px;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 20px 60px rgba(1,1,2,0.6);
    }
    .lb-media {
      display:flex;
      align-items:center;
      justify-content:center;
      background: #0f1724;
      min-height:60vh;
      max-height:80vh;
      position:relative;
    }
    .lb-media img,
    .lb-media video {
      max-width:100%;
      max-height:80vh;
      transition: transform .5s cubic-bezier(.2,.9,.2,1), opacity .35s;
      transform-origin:center center;
      display:block;
    }
    .lb-caption {
      padding:12px 16px;
      color:#f8fafc;
      background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06));
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }

    .btn {
      background:transparent;
      border:0;
      color:#fff;
      padding:10px 12px;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn:active { transform: translateY(1px); }

    .close-btn{
      position:absolute;
      right:10px;
      top:10px;
      z-index:50;
      font-size:20px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      padding:8px 12px;
      border-radius:10px;
    }

    .nav-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
      border-radius:10px;
      padding:12px;
      color:#fff;
      font-size:18px;
      cursor:pointer;
      border:0;
    }
    .nav-prev{ left:12px; }
    .nav-next{ right:12px; }

    /* Transition classes for sliding images */
    .fade-in { animation: lbIn .4s ease forwards; }
    .fade-out { animation: lbOut .35s ease forwards; }
    .slide-left-in { animation: slideLeftIn .45s cubic-bezier(.2,.9,.2,1) forwards; }
    .slide-right-in { animation: slideRightIn .45s cubic-bezier(.2,.9,.2,1) forwards; }

    @keyframes lbIn {
      from { opacity: 0; transform: translateY(10px) scale(.99); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes lbOut {
      from { opacity: 1; transform: translateY(0) scale(1); }
      to { opacity: 0; transform: translateY(8px) scale(.995); }
    }
    @keyframes slideLeftIn {
      from { opacity:0; transform: translateX(20px) scale(.995); }
      to { opacity:1; transform: translateX(0) scale(1); }
    }
    @keyframes slideRightIn {
      from { opacity:0; transform: translateX(-20px) scale(.995); }
      to { opacity:1; transform: translateX(0) scale(1); }
    }

    /* Responsive tweaks */
    @media (max-width:640px){
      header.hero{ flex-direction:column; align-items:flex-start; gap:12px; padding:18px; }
      .hero-right{ width:84px; height:84px; border-radius:12px; display:flex; align-items:center; justify-content:center }
      .lb-media{ min-height:48vh; max-height:60vh; }
    }
  </style>
</head>
<body>

  <!-- Floating hearts container -->
  <div class="hearts-wrap" id="hearts-wrap" aria-hidden="true"></div>

  <div class="container">
    <header class="hero" role="banner">
      <div class="hero-left">
        <h1 class="hero-title">Memory Lane ‚Äî <span style="color:rgba(255,255,255,0.95)">Us</span></h1>
        <p class="hero-sub">A place for our favorite moments ‚Äî photos, captions, and dates. Keep adding memories and they'll live here forever.</p>
        <div class="hero-meta" aria-hidden="true">
          <div class="pill">‚ô• Years together: <strong style="margin-left:6px">7/12</strong></div>
          <div class="pill">üìç Special place: <strong style="margin-left:6px">Sealdah Metro</strong></div>
        </div>
      </div>

      <div class="hero-right" aria-hidden="true">
        <div class="big-heart">‚ù§</div>
      </div>
    </header>

    <!-- Gallery -->
    <section class="gallery" id="gallery" aria-label="Photo gallery">
      <!-- Existing image cards (unchanged) -->
      <article class="card" tabindex="0" data-src="images/photo1.jpg" data-title="First Date" data-sub="Jan 12, 2023 ‚Äî Cafe by the park">
        <img class="thumb" src="images/photo1.jpg" alt="First Date" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Merun Dress a hehe</div>
            <div class="cap-sub">Jun 25, 2025</div>
          </div>
        </div>
      </article>

      <article class="card" tabindex="0" data-src="images/photo2.jpg" data-title="Beach Sunset" data-sub="Apr 03, 2023 ‚Äî Sunset walk">
        <img class="thumb" src="images/photo2.jpg" alt="Beach Sunset" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Lojjaboti amr chumu khete</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>

      <article class="card" tabindex="0" data-src="images/photo3.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo3.jpg" alt="Laughing Together" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>


        <article class="card" tabindex="0" data-src="images/photo4.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
            <img class="thumb" src="images/photo4.jpg" alt="Laughing Together/_/" />
            <div class="caption-row">
            <div class="cap-left">
                <div class="cap-title">Laughing Together</div>
                <div class="cap-sub">Jun 30, 2025</div>
            </div>
            </div>
        </article>

        <article class="card" tabindex="0" data-src="images/photo5.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo5.jpg" alt="Laughing Together/_" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>


      <article class="card" tabindex="0" data-src="images/photo6.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo6.jpg" alt="Laughing Together--//" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>

      <article class="card" tabindex="0" data-src="images/photo7.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo7.jpg" alt="Laughing Together///" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>


    <article class="card" tabindex="0" data-src="images/photo8.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo8.jpg" alt="Laughing Together____" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article> 
      

      <article class="card" tabindex="0" data-src="images/photo9.jpg" data-title="Laughing Together" data-sub="Aug 20, 2023 ‚Äî Picnic">
        <img class="thumb" src="images/photo9.jpg" alt="Laughing Together__" />
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Laughing Together</div>
            <div class="cap-sub">Jun 30, 2025</div>
          </div>
        </div>
      </article>



      <!-- NEW: Video cards (added, same structure) -->
      <!-- Note: keep using the same article/card pattern. -->
      <article class="card" tabindex="0" data-src="videos/video1.mp4" data-title="Laughing Together (Video)" data-sub="Summer 2023 ‚Äî Cafe">
        <!-- thumbnail can be a poster image OR the video tag (muted, looped) -->
        <video class="thumb" src="videos/video1.mp4" muted playsinline loop></video>
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">First Metro Chumu</div>
            <div class="cap-sub">Jun 25, 2025</div>
          </div>
        </div>
      </article>

      <article class="card" tabindex="0" data-src="videos/video2.mp4" data-title="Road Trip Clip" data-sub="Dec 2023 ‚Äî Mountains">
        <video class="thumb" src="videos/video2.mp4" muted playsinline loop></video>
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Again Chumu</div>
            <div class="cap-sub">July 16, 2025</div>
          </div>
        </div>
      </article>
      <article class="card" tabindex="0" data-src="videos/video3.mp4" data-title="Road Trip Clip" data-sub="Dec 2023 ‚Äî Mountains">
        <video class="thumb" src="videos/video3.mp4" muted playsinline loop></video>
        <div class="caption-row">
          <div class="cap-left">
            <div class="cap-title">Again Chumu</div>
            <div class="cap-sub">July 16, 2025</div>
          </div>
        </div>
      </article>

      <!-- Add more cards here following the same structure -->
    </section>

    <footer style="margin-top:22px; text-align:center; color:rgba(255,255,255,0.95); font-size:14px">
      Made with ‚ô• ‚Äî keep making memories
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-hidden="true">
    <div class="lb-inner" role="document" aria-label="Enlarged photo/video">
      <div class="lb-media">
        <button class="close-btn btn" id="lb-close" aria-label="Close">&times;</button>
        <button class="nav-arrow nav-prev" id="lb-prev" aria-label="Previous">‚óÄ</button>

        <!-- Image viewer (original) -->
        <img id="lb-img" src="" alt="" style="display:none;"/>

        <!-- Video viewer (new) -->
        <video id="lb-video" controls playsinline style="display:none;"></video>

        <button class="nav-arrow nav-next" id="lb-next" aria-label="Next">‚ñ∂</button>
      </div>
      <div class="lb-caption">
        <div id="lb-text" style="flex:1"></div>
        <div style="opacity:0.9; font-size:13px">Esc to close ‚Ä¢ ‚Üê ‚Üí to navigate</div>
      </div>
    </div>
  </div>

<script>
/* -------------------------
   Floating hearts generator
   ------------------------- */
(function makeHearts(){
  const wrap = document.getElementById('hearts-wrap');
  const total = 22; // number of hearts to create
  for(let i=0;i<total;i++){
    const h = document.createElement('div');
    h.className = 'heart';
    const size = (Math.random()*20)+8; // 8 to 28 px
    h.style.width = size+'px';
    h.style.height = size+'px';
    h.style.left = Math.random()*100 + '%';
    h.style.top = (100 + Math.random()*10) + '%';
    const dur = (Math.random()*10)+8; // 8s to 18s
    h.style.animation = `floatUp ${dur}s linear ${Math.random()*-10}s forwards`;
    h.style.opacity = (Math.random()*0.6)+0.3;
    const drift = (Math.random()*40)-20;
    h.style.transform = `translateX(${drift}px) rotate(-45deg)`;
    wrap.appendChild(h);
  }

  // Recreate hearts on resize (debounced)
  let t;
  window.addEventListener('resize', () => {
    clearTimeout(t);
    t = setTimeout(()=> {
      while(wrap.firstChild) wrap.removeChild(wrap.firstChild);
      makeHearts(); // recreate
    }, 350);
  });
})();

/* -------------------------
   Gallery -> Lightbox logic (image + video)
   ------------------------- */
(function galleryLightbox(){
  const gallery = Array.from(document.querySelectorAll('.card'));
  const lightbox = document.getElementById('lightbox');
  const lbImg = document.getElementById('lb-img');
  const lbVideo = document.getElementById('lb-video');
  const lbText = document.getElementById('lb-text');
  const closeBtn = document.getElementById('lb-close');
  const prevBtn = document.getElementById('lb-prev');
  const nextBtn = document.getElementById('lb-next');

  // Build items array (detect video vs image)
  const items = gallery.map(card => {
    const imgEl = card.querySelector('img');
    const vidEl = card.querySelector('video');
    const isVideo = !!vidEl;
    // priority: data-src attribute (keeps your original pattern), otherwise element src
    let src = card.getAttribute('data-src') || (imgEl ? imgEl.src : (vidEl ? (vidEl.getAttribute('data-src') || vidEl.src) : ''));
    return {
      src,
      title: card.getAttribute('data-title') || (imgEl ? imgEl.alt : (vidEl ? vidEl.getAttribute('title') || '' : '')) || (card.querySelector('.cap-title')?.textContent || ''),
      sub: card.getAttribute('data-sub') || (card.querySelector('.cap-sub')?.textContent || ''),
      el: card,
      type: isVideo ? 'video' : 'image'
    };
  });

  let index = 0;
  let animating = false;

  function showLightboxContainer(){
    lightbox.classList.add('show');
  }

  function openAt(i){
    if(animating) return;
    index = i;
    showLightboxContainer();
    // small delay so .show takes effect before loading media (smooth)
    setTimeout(()=> showLightbox(items[index], 'in'), 30);
    document.body.style.overflow = 'hidden';
    lightbox.setAttribute('aria-hidden','false');
  }

  function showLightbox(item, direction){
    animating = true;
    // reset both viewers
    lbImg.style.opacity = 0;
    lbImg.className = '';
    lbVideo.style.opacity = 0;
    lbVideo.className = '';
    // stop and clear previous video
    try { lbVideo.pause(); } catch(e){}

    // Update caption (shared)
    lbText.innerHTML = `<div style="font-weight:700">${escapeHtml(item.title)}</div><div style="font-size:13px; margin-top:6px; color:rgba(255,255,255,0.85)">${escapeHtml(item.sub)}</div>`;

    // small timeout to improve perceived performance / animation
    setTimeout(()=> {
      if(item.type === 'image'){
        // show image
        lbImg.src = item.src;
        lbImg.alt = item.title || 'Memory';
        lbImg.style.display = 'block';
        lbVideo.style.display = 'none';
        // animation class
        if(direction === 'next') lbImg.classList.add('slide-left-in');
        else if(direction === 'prev') lbImg.classList.add('slide-right-in');
        else lbImg.classList.add('fade-in');
        // fade-in after animation length
        setTimeout(()=> { lbImg.style.opacity = 1; animating=false; }, 420);
      } else {
        // show video
        lbVideo.src = item.src;
        // try to make playback smooth: load metadata then attempt play
        lbVideo.style.display = 'block';
        lbImg.style.display = 'none';
        // make sure controls are present
        lbVideo.controls = true;
        // animation class on video element
        if(direction === 'next') lbVideo.classList.add('slide-left-in');
        else if(direction === 'prev') lbVideo.classList.add('slide-right-in');
        else lbVideo.classList.add('fade-in');
        // load then attempt play
        lbVideo.load();
        lbVideo.play().catch(()=> {
          // autoplay may be blocked; user can press play
        });
        setTimeout(()=> { lbVideo.style.opacity = 1; animating=false; }, 420);
      }
    }, 80);
  }

  function closeLightbox(){
    if(animating) return;
    // pause video and clear src to stop network / playback
    try { lbVideo.pause(); lbVideo.currentTime = 0; } catch(e){}
    lbVideo.removeAttribute('src');
    lightbox.classList.remove('show');
    lightbox.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }

  // Attach click & keyboard handlers for each card (keeps your existing behavior)
  items.forEach((item, i) => {
    item.el.addEventListener('click', ()=> openAt(i));
    item.el.addEventListener('keydown', (e)=> {
      if(e.key === 'Enter' || e.key === ' ') { openAt(i); e.preventDefault(); }
    });
    // if it's a thumbnail video, let it autoplay muted in the card (small UX nicety)
    if(item.type === 'video') {
      const v = item.el.querySelector('video');
      if(v){
        v.muted = true;
        v.playsInline = true;
        v.loop = true;
        // try to play silently for thumbnail feel
        v.play().catch(()=>{ /* ignore autoplay block */ });
      }
    }
  });

  // Prev/next functions
  function showPrev(){
    if(animating) return;
    const nextIndex = (index - 1 + items.length) % items.length;
    index = nextIndex;
    showLightbox(items[index], 'prev');
  }
  function showNext(){
    if(animating) return;
    const nextIndex = (index + 1) % items.length;
    index = nextIndex;
    showLightbox(items[index], 'next');
  }

  // Wire buttons
  prevBtn.addEventListener('click', (e)=> { e.stopPropagation(); showPrev(); });
  nextBtn.addEventListener('click', (e)=> { e.stopPropagation(); showNext(); });
  closeBtn.addEventListener('click', closeLightbox);

  // Click on background closes
  lightbox.addEventListener('click', (e)=> {
    if(e.target === lightbox) closeLightbox();
  });

  // Keyboard navigation
  document.addEventListener('keydown', (e)=> {
    if(lightbox.classList.contains('show')) {
      if(e.key === 'Escape') closeLightbox();
      if(e.key === 'ArrowLeft') showPrev();
      if(e.key === 'ArrowRight') showNext();
    }
  });

  // Utility: simple escape for text
  function escapeHtml(s){
    if(!s) return '';
    return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }

  // Preload images and metadata for videos to make next/prev snappy
  items.forEach(it => {
    if(it.type === 'image'){
      const img = new Image();
      img.src = it.src;
    } else if(it.type === 'video') {
      // preload only metadata to avoid heavy network usage
      try {
        const v = document.createElement('video');
        v.preload = 'metadata';
        v.src = it.src;
      } catch(e){}
    }
  });

})(); /* galleryLightbox() end */

/* -------------------------
   Tips for adding photos / videos
   ------------------------- */
/*
 To add new photos or videos, copy one of the <article class="card"> blocks inside <section id="gallery">.
 - For images keep using: <img class="thumb" src="images/yourphoto.jpg" />
 - For videos add: <video class="thumb" src="videos/yourclip.mp4" muted playsinline loop></video>
 - Also set data-src to the full-size media path (images OR videos), data-title and data-sub as before.

 Example video card (already included above):
 <article class="card" tabindex="0" data-src="videos/video1.mp4" data-title="Clip Title" data-sub="Date/Place">
   <video class="thumb" src="videos/video1.mp4" muted playsinline loop></video>
   <div class="caption-row"> ... </div>
 </article>
*/
</script>
</body>
</html>
